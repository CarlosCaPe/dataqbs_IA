entities:
  - name: Experience
    description: "Professional work experience entries"
    attributes:
      - company: string
      - role: string
      - period: daterange      # "2024-01 — present"
      - location: string
      - type: enum[full-time, contract, freelance, self-employed]
      - skills: list[string]
      - achievements: list[string]
    relationships:
      - uses: Technology
      - certified_by: Certification

  - name: Technology
    description: "Programming languages, tools, frameworks, platforms"
    attributes:
      - name: string
      - category: enum[language, database, cloud, framework, tool, library, platform]
      - proficiency: enum[expert, advanced, intermediate]

  - name: Project
    description: "Software projects built by Carlos"
    attributes:
      - name: string
      - slug: string
      - description: string
      - technologies: list[Technology]
      - github_path: string
      - category: enum[fintech, ai-ml, automation, data-engineering, devops, tools]
      - featured: boolean
    relationships:
      - uses: Technology
      - part_of: Experience

  - name: Certification
    description: "Professional certifications earned"
    attributes:
      - name: string
      - short_name: string
      - issuer: string
      - year: int
      - credential_url: string

  - name: Education
    description: "Academic background"
    attributes:
      - institution: string
      - degree: string
      - field: string
      - period: daterange

# ── Query Expansion ──────────────────────────────────
# When user mentions a term, also search for related terms
query_expansion:
  Snowflake:
    - "data warehouse"
    - "cloud analytics"
    - "SQL optimization"
    - "Cortex AI"
    - "vector search"
    - "RAG"
  Azure:
    - "Microsoft cloud"
    - "Azure SQL"
    - "Azure Data Factory"
    - "ADF"
    - "Azure Functions"
  Python:
    - "pandas"
    - "ccxt"
    - "Playwright"
    - "NumPy"
    - "scripting"
  arbitrage:
    - "crypto"
    - "Bellman-Ford"
    - "triangular"
    - "exchanges"
    - "ccxt"
    - "trading"
  "data engineering":
    - "ETL"
    - "pipeline"
    - "data warehouse"
    - "Snowflake"
    - "Azure Data Factory"
    - "dbt"
  "machine learning":
    - "AI"
    - "LLM"
    - "embeddings"
    - "RAG"
    - "fine-tuning"
    - "NLP"
  SQL:
    - "database"
    - "query optimization"
    - "SQL Server"
    - "Snowflake"
    - "Azure SQL"

# ── Chunking Rules ───────────────────────────────────
# Defines how to respect entity boundaries during text splitting
chunking:
  chunk_size: 512         # tokens per chunk
  chunk_overlap: 64       # tokens overlap between chunks
  respect_boundaries:
    - entity: Experience  # never split a single job across chunks
      delimiter: "---"
    - entity: Project     # never split a project description
      delimiter: "## "
    - entity: Certification
      delimiter: "- "

# ── Source Priority ──────────────────────────────────
# Higher-priority sources rank higher in retrieval when scores are close
source_priority:
  cv: 10
  certification: 8
  project: 6
  github: 4
