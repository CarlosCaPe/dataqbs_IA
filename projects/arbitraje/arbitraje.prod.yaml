# Producción (calibrado realista)
# Enfoque: minimizar falsos positivos y aproximar net% quoted a net% realized
# usando profundidad L2 y colchón por latencia/slippage.

mode: bf

# Exchanges target (ajusta según tus credenciales/venues preferidos)
ex: [binance, bitget, coinbase, mexc, bybit, kraken, gateio, okx, kucoin]

quote: USDT
inv: 0.0  # usar saldo de wallet

bf:
  allowed_quotes: [USDT, USDC]
  fee: 0.10                 # % por hop
  rank_by_qvol: true

  # Cobertura y calidad
  currencies_limit: 200     # bajar cobertura para acelerar (ajusta si hace falta)
  min_net: 0.5              # relajar umbral total
  min_net_per_hop: 0.0     # relajar umbral por hop
  top: 6
  require_quote: true
  require_topofbook: true
  min_quote_vol: 10000      # relajar filtro de liquidez por hop (en QUOTE)
  min_hops: 3
  max_hops: 5               # limitar ruta para reducir drift/latencia acumulada
  threads: 0                # 1 hilo por exchange
  require_dual_quote: false  # bases con USDT y USDC
  persist_top_csv: true

  # Revalidación con profundidad y colchón de latencia
  revalidate_depth: false  # desactivado para producción (consume profundidad)
  use_ws: true
  depth_levels: 20
  latency_penalty_bps: 2    # colchón ligeramente más laxo
  reset_history: true
  iter_timeout_sec: 6.0     # límite por iteración para avanzar rápido (0 = sin límite)

# Runtime
max: 200
timeout: 12000              # bajar timeout de ccxt para fallar más rápido
sleep: 0.02                 # pausa mínima entre requests (0.00 si no hay rate limit)
repeat: 100000              # ciclo largo (ajusta para runs de calibración)
repeat_sleep: 0

# Balance y simulación
use_balance: true
balance_kind: free
balance_provider: ccxt
ex_auth_only: true          # incluir solo exchanges con credenciales
simulate_compound: true
simulate_from_wallet: true
simulate_prefer: auto
simulate_select: best
simulate_auto_switch: true

# Consola/UI
no_console_clear: true
ui:
  progress_bar: true
  progress_len: 20
  spinner_frames: "|/-\\"
  draw_tables_first: true

# TRI (placeholders; se usa solo si activas mode: tri)
tri:
  fee: 0.10
  currencies_limit: 35
  min_net: 0.5
  top: 5
  require_topofbook: false
  min_quote_vol: 0

# SDK refs (sin cambios funcionales)
sdk:
  binance:
    repo: https://github.com/binance/binance-connector-python
    path: ./sdk/binance
  mexc:
    repo: https://github.com/mexcdevelop/mexc-api-sdk
    docs: https://www.mexc.com/api-docs/spot-v3/introduction#api-library
    path: ./sdk/mexc
  bitget:
    repo: https://github.com/BitgetLimited/v3-bitget-api-sdk
    path: ./sdk/bitget
  okx:
    repo: https://github.com/okxapi/python-okx
    path: ./sdk/okx
