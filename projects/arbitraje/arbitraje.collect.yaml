mode: bf

# Exchanges for collection run (fast lake)
ex: [mexc]

quote: USDT
inv: 0.0

# Bellman-Ford (collection profile): balance inclusiveness and speed
bf:
  allowed_quotes: [USDT]

  fee: 0.10                  # taker ≈0.1% per hop
  rank_by_qvol: true         # prioritize liquid pairs
  currencies_limit: 180      # smaller graph for faster iterations
  min_net: -50               # include slightly negative windows (−0.50%) for training
  min_net_per_hop: -25       # allow marginal hops for data collection
  top: 40                    # fewer candidates per iteration
  require_quote: true
  require_topofbook: true    # keep execution-quality prices
  min_quote_vol: 5000        # avoid thin books aggressively
  min_hops: 2
  max_hops: 5
  threads: 0
  require_dual_quote: false
  persist_top_csv: true
  revalidate_depth: false    # collection favors speed; final execution can revalidate
  use_ws: true
  depth_levels: 10
  latency_penalty_bps: 25
  reset_history: true        # start fresh history for this long run
  iter_timeout_sec: 0

max: 280
timeout: 20000
sleep: 0
repeat: 100000               # target dataset size
repeat_sleep: 1              # small pause to reduce WS/API pressure

balance_provider: ccxt
ex_auth_only: true
simulate_compound: false
simulate_from_wallet: false
simulate_prefer: auto
simulate_select: best
simulate_auto_switch: true
simulate_fallback_to_inv: false

no_console_clear: true

ui:
  progress_bar: true
  progress_len: 20
  spinner_frames: "|/-\\"
  draw_tables_first: true
  show_simulation_header_always: true

tri:
  fee: 0.10
  currencies_limit: 300
  min_net: 0.75
  top: 20
  require_topofbook: false
  min_quote_vol: 3000

techniques:
  enabled: [bellman_ford]
  max_workers: 2
  enable_rerank_onnx: false
  fallback_timeout: 8.0
  telemetry_file: ./artifacts/arbitraje/techniques_telemetry.log
  inline: [bellman_ford]            # inline only BF for speed/stability
  iteration_watchdog_sec: 15.0
  pruning_degree_threshold: 8
  pruning_qvol_frac: 0.20
  pruning_volatility_window: 5

# Exchange-specific overrides intentionally omitted for broader capture

blacklist_pairs: {}

per_exchange_watchdog_sec: 60
iteration_watchdog_sec: 300
